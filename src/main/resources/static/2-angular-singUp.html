<!doctype html>
<html>
<head>
<meta charset = "UTF-8" />
<title>Hello AngularJS</title>
<base href="/" />
<link href="css/angular-bootstrap.css" rel="stylesheet">
<link href="font-awesome-4.7.0/css/font-awesome.css" rel="stylesheet">
<style type="text/css">
[ng\:cloak], [ng-cloak], .ng-cloak {
  display: none !important;
}
.error{
 	color:#a10;
}
input.error{
	 border:1px solid red;
}
/* p.error{
	display:none;
} */
.wrapper
{
	width: 300px;
	margin: 50px auto;
}
.input-result{
	position: relative;
	top: -27px;
	left: 280px;
}
p.success{
	color:green;
}
</style>
</head>

<body ng-app="main" ng-controller="MainController">  <!--  // 这里ng-app和ng-controller是平级的，那之下所有的域都在scope中，即定义的controller回掉函数的scope之中 -->
  <div class="container">
    <h1>Greeting</h1>
    <div class="wrapper">
	    <form name="signUpForm" ng-submit="submitForm()">
		    <div class="form-group" ng-class="{'has-success':signUpForm.username.$valid}">
		    	<lable>用户名:</lable>
		    	<pre>合法：{{ signUpForm.username.$valid }}</pre>
		    	<pre>{{ signUpForm.username }}</pre>   <!-- 看username中的属性 -->
		    	<pre>{{ userData.username }}</pre>    <!--  可以看到不如果signUpForm.username中的数据不合法则不会存到userData.username中 -->
		    	<input name="username"
		    			ng-model="userData.username"
		    			ng-class="{ 'error':signUpForm.username.$invalid && signUpForm.username.$touched }"
		    			ng-minlength="4"
		    			ng-maxlength="32"
		    			required
		    			class="form-control"></input>
		    	<p class="error" ng-if="
		    							(signUpForm.username.$error.minlength
		    							|| signUpForm.username.$error.maxlength)
		    							&& signUpForm.username.$touched">
		    							用户名长度应在4至32位之间</p>
				<p class="error" ng-if="
										signUpForm.username.$error.required
										&& signUpForm.username.$touched">
										用户名不可为空</p>
			    <p class="fa fa-check input-result success" ng-if="signUpForm.username.$valid"></p>
		    </div>
		    <div class="form-group" ng-class="{'has-success':signUpForm.username.$valid}">
		    	<lable>密码:</lable>
		    	<pre>合法：{{ signUpForm.password.$valid }}</pre>
		    	<pre>{{ signUpForm.password }}</pre>
		    	<input name="password"
		    			type="password"
		    			required
		    			ng-model="userData.password"
		    			ng-minlength="6"
		    			ng-maxlength="255"
		    			class="form-control"></input>
		    	<p class="error" ng-if="signUpForm.password.$error.required
		    							 && signUpForm.password.$touched">
		    							 密码不可为空</p>
			    <p class="error" ng-if="
			    						(signUpForm.password.$error.minlength
		    							|| signUpForm.password.$error.maxlength)
		    							&& signUpForm.password.$touched">
		    							 密码在6位至255位之间</p>
		    	<p class="fa fa-check input-result success" ng-if="signUpForm.password.$valid"></p>
		    </div>
		     <div class="form-group" ng-class="{'has-success':signUpForm.username.$valid}">
		    	<lable>确认密码:</lable>
		    	<pre>合法：{{ signUpForm.password2.$valid }}</pre>
		    	<pre>{{ signUpForm.password2 }}</pre>
		    	<input name="password2"
		    			type="password"
		    			required
		    			ng-model="userData.password2"
		    			compare="userData.password"     
		    			ng-minlength="6"
		    			ng-maxlength="255"
		    			class="form-control"></input>
		    	<p class="error" ng-if="signUpForm.password2.$error.compare
		    							 && signUpForm.password2.$touched">
		    							 两次密码输入不一致</p><!-- font awsome 下载对号  font awsome为 Bootstrap 而创造的图标字体 -->
		        <p class="fa fa-check input-result success" ng-if="signUpForm.password2.$valid"></p>
		    </div>
		    <div class="form-group">
		    	<button type="submit" class="btn btn-primary" ng-disabled="signUpForm.$invalid">注册</button>
		    </div>
	    </form>
    </div>
    
    
    <!-- input type="text" 
    	   class="form-control"
    	   ng-model="name"
		   ng-minlenth="4"
		   ng-maxlenth="10">
    <div class="red">{{name}}</div>
    <input type="number" ng-model="name">
    <div class="red">{{name}}</div> -->
    
  </div>
  <script src="js/angular-bootstrap.js" type="text/javascript"></script>
  <script src="js/main.js"></script>
</body>
</html>